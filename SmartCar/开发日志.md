# 开发日志




-[ ] 发射小球的时间


# v0.4.2 
特殊情况只考虑直角弯？不考虑未检出线的情况
- 现在的问题是，过于急的直角弯，会导致过度拐弯（无法调出）
- [ ] 再解决pid问题





自v0.3.0后重新整理；逐个调优
-[X] 代码重新整理（主要是乱delay的问题）
-[X] 手动===PWM和DELAY调参
-[X] 雷达逻辑
-[X] 红外逻辑




# v0.3.3
红外整体逻辑设想（irValues0~5；左到右；黑=1）
1. 先看有没有黑线，没有黑线就原地左转（20~30）、右转、前进、后退、后退，一次尝试后退出循环，去检验红外情况
2. 最左侧有线，左转（80-90）；最右侧有线，右转
3. 其余情况下，根据线所在位置，进行pid调整


# v0.3.2
雷达整体构想参照手动的情况、
1. 直行道：根据右侧传感器距离，靠右行走
2. 左转弯：在贴右侧和贴前侧的情况下，向前转60~80度；然后往前走30cm
3. 右转弯：在贴右侧的情况下，突然右侧显著大（80+），则向前到快到底，一次性转80~90度，向前走30cm
4. 左右转弯：在贴到前方底的时候，左右距离都显著大，执行右转弯操作

## 实际逻辑
|功能|变动效果|
|:-:|:-:|
慢速前进 * 3|10cm
快速前进 * 3|28cm
快左/右转 * 1|原地80+
慢左/右转 * 3|原地90
慢小左/右转 * 8 |向前90，不动轮几乎不动
快小左/右转 * 3 |向前90，不动轮几乎不转

1. 【右转】当右边大于 {A探测限值} 。则右边有通道：先向前（可以撞墙），再右转，再向前走。低速前进 * 3，高速右转 * 1，高速前进 * 2；
2. 【左转】当左边大于 {A探测限值} （此时右侧条件即运行1，已经不满足）。则左边有通道：先向前（可以撞墙），再左转，再向前走。低速前进 * 3，慢速左转 * 2，高速前进 * 2；
3. 【倒退】陷入困境，当前方距离小于等于 {B前进期望} 。则前方撞墙：倒退一定距离。慢速后退 * 2 大概6cm：
4. 【直行前进不够右】当 右侧距离大于 左侧距离。则右侧不够：先右一点，再少往前一点。慢小右 * 1，高速前进 * 1 
5. 【直行前进太靠右】当 右侧距离小于 {C贴右最小值}。则右侧贴的太近：先左一点，再少往前一点，再回方向。慢小左 * 1，高速前进 * 1 ，慢小右*1
6. 【直行前进】 可以前进。高速前进 * 2

## v0.3.1 
1. 改速度切换模式，回到2次切换
2. 改进手动控制函数

## v0.3.0
1. 代码整理